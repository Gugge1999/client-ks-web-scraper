<header role="banner" *ngIf="isHandset$ | async as isHandset">
  <div *ngIf="apiStatus$ | async as apiStatus">
    <mat-toolbar color="primary">
      <mat-toolbar-row>
        <a class="title-bar-link" [routerLink]="['/']">
          <mat-icon class="icon-margin-right">watch</mat-icon>
          <span class="toolbar-title">KS Web Scraper</span>
        </a>
        <!-- TODO: Behövs spacer? Går det inte att använda flexbox med space between? -->
        <span class="spacer"> </span>

        <div *ngIf="isHandset.matches; else desktopMenu">
          <app-mobile-menu
            [apiStatus]="apiStatus"
            [isDarkMode]="isDarkMode"
            (toggleTheme)="toggleTheme()"
            (openApiStatusDialog)="openApiStatusDialog()">
          </app-mobile-menu>
        </div>

        <ng-template #desktopMenu>
          <app-desktop-menu
            [apiStatus]="apiStatus"
            [isDarkMode]="isDarkMode"
            (toggleTheme)="toggleTheme()"
            (openApiStatusDialog)="openApiStatusDialog()">
          </app-desktop-menu>
        </ng-template>
      </mat-toolbar-row>
    </mat-toolbar>
  </div>
</header>
