<div class="card-container">
  <mat-card
    class="card"
    *ngFor="let watch of watches; index as i"
    [ngClass]="cardWidth">
    <mat-card-title
      ><strong>{{ watch.label }}</strong></mat-card-title
    >
    <mat-card-content>
      <p>
        <strong>Thread being scraped: </strong>
        <a target="_blank" class="link" href="{{ watch.link }}">Thread</a>
      </p>
      <p>
        <strong> Last mail sent: </strong>
        {{
          watch.last_email_sent === '' ? 'No email sent' : watch.last_email_sent
        }}
      </p>
      <p><strong>Added: </strong> {{ watch.added }}</p>
      <p>
        <strong>Current watch: </strong>
        <a target="_blank" class="link" href="{{ watch.link_to_watch }}">{{
          watch.watch_name
        }}</a>
      </p>
    </mat-card-content>
    <mat-card-actions align="end">
      <button
        mat-icon-button
        class="deleteCardButton"
        (click)="deleteWatchDialog(watch)">
        <mat-icon
          class="delete-icon"
          matTooltip="Delete watch"
          matTooltipPosition="above"
          matTooltipClass="tooltip"
          >delete_outline</mat-icon
        >
      </button>
      <button mat-icon-button>
        <mat-icon
          fontSet="material-icons-outlined"
          color="primary"
          matTooltip="Show statistics"
          matTooltipPosition="above"
          matTooltipClass="tooltip"
          >assessment</mat-icon
        >
      </button>
      <mat-slide-toggle
        class="is-watch-active-slide-toggle"
        color="primary"
        matTooltip="Toggle active status"
        matTooltipPosition="above"
        matTooltipClass="tooltip"
        [checked]="watch.active"
        (change)="
          toggleActiveStatus(
            { isActive: watch.active, label: watch.label, id: watch.id },
            i,
            $event
          )
        ">
      </mat-slide-toggle>
    </mat-card-actions>
  </mat-card>
  <div class="new-watch-container">
    <button
      mat-raised-button
      color="primary"
      (click)="openNewWatchDialog()"
      class="new-watch-button">
      <mat-icon class="add-watch-icon">add_circle</mat-icon>
      Add watch
    </button>
  </div>
</div>
