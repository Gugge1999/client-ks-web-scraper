<div class="cardContainer">
  <mat-card class="card" *ngFor="let watch of watches$ | async; let i = index">
    <mat-card-title>{{ watch.label }}</mat-card-title>
    <mat-card-content>
      <p>
        Thread being watches:
        <a target="_blank" class="linkToWatch" href="{{ watch.uri }}">Thread</a>
      </p>
      <p>Last mail sent: {{ watch.last_email_sent }}</p>
      <p>Added: {{ watch.added }}</p>
      <p>Current watch: {{ watch.stored_watch }}</p>
      <a
        target="_blank"
        class="linkToWatch"
        href="{{ watch.link_to_stored_watch }}"
        >View watch on Klocksnack.se</a
      >
    </mat-card-content>
    <mat-card-actions align="end">
      <button
        mat-icon-button
        class="deleteCardButton"
        matTooltip="Delete watch"
        matTooltipPosition="above"
        matTooltipClass="tooltip"
        (click)="deleteWatchDialog(watch)">
        <mat-icon class="deleteIcon">delete_outline</mat-icon>
      </button>
      <button mat-icon-button>
        <mat-icon fontSet="material-icons-outlined" color="primary"
          >assessment</mat-icon
        >
      </button>
      <mat-slide-toggle
        class="isActiveSlideToggle"
        color="primary"
        [(ngModel)]="watch.active"
        matTooltip="Toggle active status"
        matTooltipPosition="above"
        matTooltipClass="tooltip"
        (change)="toggleIsWatchActive(watch)">
      </mat-slide-toggle>
    </mat-card-actions>
  </mat-card>
  <div class="addNewWatch">
    <button
      mat-flat-button
      color="primary"
      (click)="openNewWatchDialog()"
      class="addNewWatchButton">
      <mat-icon class="addIcon">add_circle</mat-icon>
      Add watch
    </button>
  </div>
</div>
