<tui-root [attr.tuiTheme]="isDarkMode() ? 'dark' : null">
  <div style="min-height: 100vh; display: flex; flex-direction: column">
    <scraper-header [apiStatus]="apiStatus()" />

    @if (cookieAccepted()) {
      <scraper-cookie />
    }

    <main style="flex: 1; margin-bottom: 40px">
      @if (watchesResource.isLoading()) {
        <h2>Hämtar bevakningar...</h2>
      }

      @if (watchesResource.error()) {
        <h2 class="error">Något gick fel vid hämtning av bevakningar</h2>
      }

      @if (!watchesResource.isLoading() && !watchesResource.error() && watchesResource.value(); as watches) {
        <scraper-summary [watches]="watches" />

        <scraper-toggle-all [watches]="watches" />

        <scraper-bevakningar-cards [watches]="watches" />
      }

      <scraper-new-watch-fab [apiStatus]="apiStatus()" />
    </main>

    <scraper-footer />
  </div>
</tui-root>
